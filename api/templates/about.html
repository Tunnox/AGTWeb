<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>About AGT App — Slideshow</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --brand:#04395E;
      --accent:#20c997;
      --bg:#f8f9fa;
      --text:#212529;
      --card:#ffffff;
      --shadow:0 6px 18px rgba(0,0,0,.08);
      --radius:14px;
      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
    }

    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;flex-direction:column;
    }

    /* Navbar */
    .navbar{position:sticky;top:0;z-index:50;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:clamp(10px,1.2vw,16px) max(20px,4vw);display:flex;align-items:center;justify-content:space-between}
    .nav-brand{font-weight:800;color:var(--brand);letter-spacing:.2px}
    .nav-links a{display:inline-block;text-decoration:none;color:var(--brand);font-weight:600;padding:.5rem .85rem;border-radius:999px;transition:.25s}
    .nav-links a:hover{background:var(--accent);color:#fff;transform:translateY(-1px)}

    /* Hero */
    header{position:relative;isolation:isolate;background:url('https://github.com/Tunnox/Images/blob/main/agt_background_home.jpg?raw=true') center/cover no-repeat;color:#fff}
    header::after{content:"";position:absolute;inset:0;background:linear-gradient(0deg,rgba(0,0,0,.55),rgba(0,0,0,.55))}
    .header-inner{position:relative;z-index:1;max-width:1100px;margin:0 auto;padding:clamp(28px,6vw,72px) max(20px,4vw)}
    header h1{font-size:clamp(1.4rem,3.6vw,2.4rem);margin:0 0 .4rem;font-weight:800}
    header p{font-size:clamp(.95rem,2.2vw,1.1rem);opacity:.95}

    /* Slideshow Shell */
    .slideshell{position:relative;max-width:1100px;margin:clamp(12px,2.4vw,24px) auto; 
      padding:0 max(10px,3.6vw) clamp(10px,2vw,18px);
    }

    .viewport{position:relative;overflow:hidden;border-radius:var(--radius);background:var(--card);box-shadow:var(--shadow);height:min(78vh,820px)}

    /* Track + Slides */
    .track{height:100%;display:flex;transition:transform .5s ease}
    .slide{flex:0 0 100%;height:100%;display:flex;align-items:center;justify-content:center;padding:clamp(16px,3.5vw,36px)}

    /* Slide card content: always contained */
    .card{width:100%;max-width:900px;display:flex;flex-direction:column;align-items:center;gap:12px;text-align:center}
    .card h2{color:var(--brand);font-size:clamp(1.2rem,3vw,1.8rem)}
    .card p,.card ul{max-width:70ch;line-height:1.6;color:#444;font-size:clamp(.95rem,2.2vw,1.05rem)}

    /* Make long content scroll _inside_ the slide, never overflow viewport */
    .scrollbox{max-height:calc(100% - 2.8rem); /* leaves room for heading */
      overflow:auto; -webkit-overflow-scrolling:touch; padding-right:.25rem}
    .card ul{margin:0;padding-left:1.2rem;text-align:left}
    .card li{margin:.4rem 0}

    /* Arrows */
    .arrow{position:absolute;top:50%;translate:0 -50%;border:0;background:#fff;width:46px;height:46px;border-radius:50%;box-shadow:0 8px 20px rgba(0,0,0,.12);cursor:pointer;display:grid;place-items:center;transition:transform .2s ease;z-index:5}
    .arrow svg{width:22px;height:22px}
    .arrow:hover{transform:scale(1.06)}
    .arrow:active{transform:scale(.98)}
    .prev{left:clamp(6px,1.6vw,14px)}
    .next{right:clamp(6px,1.6vw,14px)}

    /* Bubbling animation (gentle pulse + lift) */
    @keyframes bubble{
      0%{transform:translateY(0) scale(1); box-shadow:0 8px 18px rgba(0,0,0,.14)}
      50%{transform:translateY(-6px) scale(1.06); box-shadow:0 14px 24px rgba(0,0,0,.18)}
      100%{transform:translateY(0) scale(1); box-shadow:0 8px 18px rgba(0,0,0,.14)}
    }
    .arrow.bubbling{animation:bubble 1.6s ease-in-out infinite}

    /* Pagination dots */
    .dots{display:flex;gap:8px;justify-content:center;align-items:center;margin:12px 0 0}
    .dot{width:8px;height:8px;border-radius:50%;background:#cfd6db;opacity:.8}
    .dot.active{background:var(--accent);opacity:1;transform:scale(1.25)}

    /* A11y helpers */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* Responsive + safe areas */
    @media (max-width: 768px){
      .viewport{height:min(78svh,760px)}
    }
    @media (prefers-reduced-motion: reduce){
      .track{transition:none}
      .arrow.bubbling{animation:none}
    }
    /* ensure touch gestures behave and arrows are definitely on top */
    .viewport { touch-action: pan-y; } /* allow vertical scrolling inside slides, lets browser handle vertical pans */
    .arrow { z-index: 999; pointer-events: auto; } /* ensure arrows are above and clickable */
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar" aria-label="Primary">
    <div class="nav-brand">AGT Sheffield</div>
    <div class="nav-links"><a href="/">Home</a></div>
  </nav>

  <!-- Hero -->
  <header role="banner" aria-label="About the AGT App">
    <div class="header-inner">
      <h1>About AGT Web Application</h1>
      <p>Learn more about the app: what it is, how it’s used, our policies, and data protection.</p>
    </div>
  </header>

  <!-- Slideshow -->
  <section class="slideshell" aria-label="About sections slideshow">
    <div class="viewport" id="viewport" aria-live="polite">
      <button class="arrow prev bubbling" id="prevBtn" aria-label="Previous slide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="15 18 9 12 15 6"/></svg>
      </button>
      <button class="arrow next bubbling" id="nextBtn" aria-label="Next slide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="9 18 15 12 9 6"/></svg>
      </button>

      <div class="track" id="track" role="group">
        <!-- Slide 1 -->
        <article class="slide" data-title="What it is" tabindex="-1">
          <div class="card">
            <h2>What it is</h2>
            <div class="scrollbox">
              <p>The AGT Web App is a secure digital platform created for Amazing Grace Tabernacle, Sheffield. It is designed to make it easier to collect, store, and access church records in a structured and responsible way. Through this platform, members and leaders can connect, share information, and manage church activities while ensuring that data is handled with fairness and transparency.</p>
            </div>
          </div>
        </article>

        <!-- Slide 2 -->
        <article class="slide" data-title="How you can use it" tabindex="-1">
          <div class="card">
            <h2>How you can use it</h2>
            <div class="scrollbox">
              <p>Members can log in to update and manage their own personal information, register attendance at services and events, access sermons and resources, and submit prayer requests or join community groups.</p>
              <p>Church administrators and leaders can manage membership databases, schedule and track events, oversee donations and giving records, and communicate announcements safely and effectively.</p>
            </div>
          </div>
        </article>

        <!-- Slide 3 -->
        <article class="slide" data-title="Our Policies" tabindex="-1">
          <div class="card">
            <h2>Our Policies</h2>
            <div class="scrollbox">
              <ul>
                <li><strong>UK GDPR compliance</strong> — ensuring personal data is processed lawfully, fairly, and transparently.</li>
                <li><strong>Consent and stewardship</strong> — members always know how their information is used, and no data is shared without permission.</li>
                <li><strong>Role-based access</strong> — only authorized personnel can access sensitive records.</li>
                <li><strong>Accountability</strong> — all church data is managed under the oversight of the AGT Admin Centre.</li>
              </ul>
            </div>
          </div>
        </article>

        <!-- Slide 4 -->
        <article class="slide" data-title="Best Practices" tabindex="-1">
          <div class="card">
            <h2>Best Practices</h2>
            <div class="scrollbox">
              <ul>
                <li>Use strong, unique passwords.</li>
                <li>Update your personal details regularly to keep records accurate.</li>
                <li>Never share your login with others.</li>
                <li>Report any suspicious or incorrect data to church administrators immediately.</li>
                <li>Communicate with respect and integrity in community groups.</li>
              </ul>
            </div>
          </div>
        </article>

        <!-- Slide 5 -->
        <article class="slide" data-title="Data Protection & Security" tabindex="-1">
          <div class="card">
            <h2>Data Protection & Security</h2>
            <div class="scrollbox">
              <ul>
                <li>All records are backed up securely and encrypted to prevent loss.</li>
                <li>Access is controlled through roles (Admin, Leader, Member, Guest).</li>
                <li>Regular audits and monitoring are carried out to ensure compliance.</li>
                <li>Procedures are in place for rapid response and correction in case of errors or breaches.</li>
              </ul>
            </div>
          </div>
        </article>

        <!-- Slide 6 -->
        <article class="slide" data-title="Contact Us" tabindex="-1">
          <div class="card">
            <h2>Contact Us</h2>
            <div class="scrollbox">
              <p>Email: <a href="mailto:info@agt-sheffield.org">info@agt-sheffield.org</a><br>
                Phone: +44 123 456 789<br>
                Address: 120 SYAC Building, Wicker, Sheffield
              </p>
            </div>
          </div>
        </article>
      </div>
    </div>

    <!-- Dots -->
    <div class="dots" id="dots" aria-label="Slide navigation"></div>
  </section>

  <footer style="margin-top:auto;background:var(--brand);color:#fff;text-align:center;padding:18px">&copy; 2025 Amazing Grace Tabernacle, Sheffield | Built with love</footer>

  <script>
    const track = document.getElementById('track');
    const viewport = document.getElementById('viewport');
    const slides = Array.from(track.children);
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const dotsWrap = document.getElementById('dots');

    let index = 0;

    // Build dots
    slides.forEach((_, i)=>{
      const d = document.createElement('button');
      d.className = 'dot' + (i===0? ' active':'');
      d.setAttribute('aria-label', `Go to slide ${i+1}`);
      d.addEventListener('click', ()=>go(i));
      dotsWrap.appendChild(d);
    });
    const dots = Array.from(dotsWrap.children);

    function go(i){
      index = (i + slides.length) % slides.length;
      track.style.transform = `translateX(-${index*100}%)`;
      dots.forEach((d,di)=>d.classList.toggle('active', di===index));

      // Move bubbling emphasis mostly towards the direction of travel
      nextBtn.classList.toggle('bubbling', true);
      prevBtn.classList.toggle('bubbling', true);

      // Update focus target for accessibility
      slides[index].focus({preventScroll:true});
      viewport.setAttribute('aria-label', `${slides[index].dataset.title} (slide ${index+1} of ${slides.length})`);
    }

    function next(){ go(index+1); }
    function prev(){ go(index-1); }

    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);

    // Keyboard support
    window.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowRight'){ next(); }
      if(e.key==='ArrowLeft'){ prev(); }
    });

    // Touch/drag swipe support
    // --- swipe / pointer handling (robust, avoids swallowing button clicks) ---
    let startX = null, dx = 0;
    let activePointerId = null;
    
    viewport.addEventListener('pointerdown', (e) => {
      // If the user started the pointer on an interactive control, ignore for swipe
      // (this prevents setPointerCapture from interfering with clicks on arrows, dots, etc.)
      if (e.target.closest('.arrow') || e.target.closest('.dot') || e.target.closest('button')) return;
    
      startX = e.clientX;
      dx = 0;
      activePointerId = e.pointerId;
      try {
        viewport.setPointerCapture(activePointerId);
      } catch (err) {
        // some browsers may throw if capture fails — safely ignore
        activePointerId = null;
      }
    });
    
    viewport.addEventListener('pointermove', (e) => {
      if (startX !== null) {
        dx = e.clientX - startX;
      }
    });
    
    function endPointer(e) {
      // If pointer was never captured for swipe, just reset
      if (startX === null) return;
    
      // Only consider it a swipe if movement threshold reached
      if (Math.abs(dx) > 42) {
        dx > 0 ? prev() : next();
      }
      // release capture if we took it
      if (activePointerId !== null) {
        try { viewport.releasePointerCapture(activePointerId); } catch (err) {}
        activePointerId = null;
      }
      startX = null;
      dx = 0;
    }
    
    viewport.addEventListener('pointerup', endPointer);
    viewport.addEventListener('pointercancel', endPointer);


    // Resize guard (keeps each slide contained)
    const ro = new ResizeObserver(()=>{
      // Force re-translate to current slide so track width changes don’t misalign
      track.style.transform = `translateX(-${index*100}%)`;
    });
    ro.observe(viewport);

    // Initial announce
    go(0);
  </script>
</body>
</html>

